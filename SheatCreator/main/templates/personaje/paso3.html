{% extends 'base.html' %}
{% block content %}
<div class="bottom-footer">
    <div class="container">
      <div class="row">
          <div class="col-xl-5 col-lg-6 col-md-8 col-sm-10 mx-auto ">
                <h1 class="display-4 py-2 text-center">Crear personaje</h1>
                {% if formulario_paso_3.errors %}
                    {% for field in formulario_paso_3 %}
                        {% for error in field.errors %}
                            <div class="alert alert-danger">
                                {{error}}
                            </div>
                        {% endfor %}
                    {% endfor %}
                {% endif %}
                  <ul class="nav nav-pills">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="pills-dotes-tab" data-bs-toggle="pill" data-bs-target="#pills-dotes" type="button" role="tab" aria-controls="pills-dotes" aria-selected="true">Dotes</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-habilidades-tab" data-bs-toggle="pill" data-bs-target="#pills-habilidades" type="button" role="tab" aria-controls="pills-habilidades" aria-selected="false">Habilidades</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-idiomas-tab" data-bs-toggle="pill" data-bs-target="#pills-idiomas" type="button" role="tab" aria-controls="pills-idiomas" aria-selected="false">Idiomas</button>
                    </li>
                    {% if clase.clase == 'Hechicero' %}
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-linaje-tab" data-bs-toggle="pill" data-bs-target="#pills-linaje" type="button" role="tab" aria-controls="pills-linaje" aria-selected="false">Linaje</button>
                    </li>
                    {% endif %}
                    {% if clase.cantidad_conjuros_conocidos.all %}
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="pills-conjuros-tab" data-bs-toggle="pill" data-bs-target="#pills-conjuros" type="button" role="tab" aria-controls="pills-conjuros" aria-selected="false">Conjuros</button>
                    </li>
                    {% endif %}
                  </ul>
                <div class="px-2">
                    <form  role="form"  enctype="multipart/form-data" action="/personaje/create/3/" method="POST" id="upload-image-form">
                    {% csrf_token %} 
                    <div class="tab-content" id="pills-tabContent">
                        <div class="text-center">Nombre</div>
                            {{formulario_paso_3.nombre}}
                                <div class="tab-pane show in active" id="pills-dotes" role="tabpanel" aria-labelledby="pills-dotes-tab">
                                    <div class="text-center">Dotes</div>
                                    {{formulario_paso_3.dotes}}
                                </div>
                                <div class="tab-pane fade" id="pills-habilidades" role="tabpanel" aria-labelledby="pills-habilidades-tab">
                                    <div class="text-center">Habilidades</div>
                                    Debes elegir {{numero_habilidades_eleccion}} para subir un punto en ellas
                                    Las habilidades de clase son: {{clase_nivel_0.descripcion_habilidades}}
                                    {{formulario_paso_3.habilidades}}
                                </div>
                                <div class="tab-pane fade" id="pills-idiomas" role="tabpanel" aria-labelledby="pills-idiomas-tab">
                                    <div class="text-center">Idiomas</div>
                                    Debes elegir {{numero_idiomas_eleccion}} idiomas extra por la inteligencia del personaje
                                    {{formulario_paso_3.idiomas}}
                                </div>
                                {% if clase.clase == 'Hechicero' %}
                                <div class="tab-pane fade" id="pills-linaje" role="tabpanel" aria-labelledby="pills-linaje-tab">
                                    <div class="text-center">Linaje</div>
                                    {{formulario_paso_3.linaje}}
                                </div>
                                {% endif %}
                                {% if clase.cantidad_conjuros_conocidos.all %}
                                <div class="tab-pane fade" id="pills-conjuros" role="tabpanel" aria-labelledby="pills-conjuros-tab">
                                    <div class="text-center">Conjuros de nivel 0</div>
                                        Debes elegir {{cantidad_conjuros_conocidos_0_eleccion}} conjuros de nivel 0<br>
                                        {{formulario_paso_3.conjuros_conocidos_0}}
                                    <div class="text-center">Conjuros de nivel 1</div>
                                        Debes elegir {{cantidad_conjuros_conocidos_1_eleccion}} conjuros de nivel 1<br>
                                        {{formulario_paso_3.conjuros_conocidos_1}}
                                </div>
                                {% endif %}
                        <input type="hidden" id="raza" name="raza" value={{raza}}>
                        <input type="hidden" id="clase" name="clase" value={{clase}}>
                        <input type="hidden" id="alineamiento" name="alineamiento" value={{alineamiento}}>
                        <input type="hidden" id="fuerza" name="fuerza" value={{fuerza}}>
                        <input type="hidden" id="destreza" name="destreza" value={{destreza}}>
                        <input type="hidden" id="constitucion" name="constitucion" value={{constitucion}}>
                        <input type="hidden" id="inteligencia" name="inteligencia" value={{inteligencia}}>
                        <input type="hidden" id="sabiduria" name="sabiduria" value={{sabiduria}}>
                        <input type="hidden" id="carisma" name="carisma" value={{carisma}}>
                        <input type="hidden" id="numero_habilidades_eleccion" name="numero_habilidades_eleccion" value={{numero_habilidades_eleccion}}>
                        <input type="hidden" id="numero_idiomas_eleccion" name="numero_idiomas_eleccion" value={{numero_idiomas_eleccion}}>
                        <input type="hidden" id="cantidad_conjuros_conocidos_0_eleccion" name="cantidad_conjuros_conocidos_0_eleccion" value={{cantidad_conjuros_conocidos_0_eleccion}}>
                        <input type="hidden" id="cantidad_conjuros_conocidos_1_eleccion" name="cantidad_conjuros_conocidos_1_eleccion" value={{cantidad_conjuros_conocidos_1_eleccion}}>
                        <div class="text-center">
                            <button type='submit' class="btn btn-primary btn-dark">Siguiente</button>
                        </div>
                    </div>
                    </form>
              </div>
          </div>
      </div>
    </div>
</div>
{% endblock %}